<html>
    <head>
        <meta charset="utf-8">
        <script src="https://www.gstatic.com/firebasejs/8.3.1/firebase.js"></script>
    </head>

    <body>
        <h1>Information</h1>
        <hr/>

        <p>Describe info about patient</p>
        <form>
            name: <input id='Name' type='text'></br>
            age: <input id='Age' type='text'></br>
            phone: <input id="Phone" type='text'></br>
        </form>

        <script>
            var Name = document.getElementById('Name');
            var Age = document.getElementById('Age');
        </script>

        <button type="button" onclick="myFunction(Name, Age, Phone)">데이터 쓰기</button>

        <script>
            var firebaseConfig = {
                apiKey: "AIzaSyCubCFe1U0nuENUD-u8Ldxpt9r9xh_gUzc",
                authDomain: "xavier-557c6.firebaseapp.com",
                projectId: "xavier-557c6",
                storageBucket: "xavier-557c6.appspot.com",
                messagingSenderId: "879419829168",
                appId: "1:879419829168:web:cf7e0b3377c2965e104475",
                databaseURL:"https://xavier-557c6-default-rtdb.firebaseio.com/",
                measurementId: "G-5VXZKLNMYQ"
            };
            // Initialize Firebase
            firebase.initializeApp(firebaseConfig);
            // firebase에서 읽기
            // var demo = document.getElementById("demo");
            // var preObject = document.getElementById("object");
            // var dbRef = firebase.database().ref().child("object");
            // dbRef.on('value',snap => demo.innerHTML = snap.val());
            // dbRef.on('value',snap => {
            //     preObject.innerText = JSON.stringify(snap.val(),null,3);
            // });
        </script>

        <script>
            function myFunction(Name, Age, Phone) {
                
                // alert(name.value);
                //firebase에 쓰기
                var dbRefObject = firebase.database();
                dbRefObject.ref(Name.value+'/').set({
                    "age": Age.value,
                    "phone": Phone.value
                });
                

            }
        </script>
    </body>
</html>

